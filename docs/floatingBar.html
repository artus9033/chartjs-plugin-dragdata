<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, user-scalable=no"
		/>
		<title>Chart.js Drag Data Points Plugin</title>
		<script src="assets/chart.min.js"></script>
		<script src="assets/chartjs-plugin-dragdata.js"></script>
		<style>
			html,
			body {
				margin: 0;
				padding: 0;
				height: 100%;
			}

			canvas {
				background-color: #eee;
				position: absolute;
				margin: auto;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
			}
		</style>
	</head>

	<body>
		<canvas id="myChart" style="height: 90%; width: 90%"></canvas>
		<script>
			const dataset1 = {
				label: ["Dataset 1"],
				data: [
					[-10, 34],
					[-43, 28],
					[-30, 52],
					[-50, -30],
				],
				backgroundColor: "rgba(72, 143, 49, 0.6)",
				hoverBackgroundColor: "rgba(72, 143, 49, 0.9)",
			};

			const dataset2 = {
				label: ["Dataset 2"],
				data: [
					[-7, 7],
					[2, 57],
					[-55, 0],
					[-30, 30],
				],
				backgroundColor: "rgba(222, 66, 91, 0.6)",
				hoverBackgroundColor: "rgba(222, 66, 91, 0.9)",
			};

			const data = {
				labels: ["Example 1", "Example 2", "Example 3", "Example 4"],
				datasets: [dataset1, dataset2],
			};

			const config = {
				type: "bar",
				data: data,
				options: {
					animation:
						new URLSearchParams(window.location.search).get("isTest") !==
						"true",
					responsive: true,
					plugins: {
						dragData:
							new URLSearchParams(window.location.search).get(
								"disablePlugin",
							) === "true"
								? false
								: {
										round: 0,
									},
					},
					scales: {
						y: {
							max: 60,
							min: -60,
						},
					},
				},
			};

			let chart = new Chart(document.getElementById("myChart"), config);
		</script>
	</body>
</html>
