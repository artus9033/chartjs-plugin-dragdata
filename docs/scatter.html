<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Chart.js Drag Data Points Plugin</title>
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, user-scalable=no"
		/>
		<script src="assets/chart.min.js"></script>
		<script src="assets/chartjs-plugin-dragdata.js"></script>
		<style>
			html,
			body {
				margin: 0;
				padding: 0;
			}

			canvas {
				background-color: #eee;
				position: absolute;
			}
		</style>
	</head>

	<body>
		<canvas id="chartJSContainer" style="height: 90%; width: 90%"></canvas>
		<script>
			var options = {
				// IMPORTANT - You need a chart of type "scatter"
				// in order to drag a line chart along the x axis
				type: "scatter",
				data: {
					datasets: [
						{
							label: "A dataset",
							data: [
								{
									x: 0,
									y: -49,
								},
								{
									x: 10,
									y: -54,
								},
								{
									x: 20,
									y: -48,
								},
								{
									x: 30,
									y: -42.9,
								},
								{
									x: 40,
									y: 46,
								},
								{
									x: 50,
									y: 44,
								},
								{
									x: 60,
									y: -76,
								},
								{
									x: 70,
									y: 78,
								},
								{
									x: 80,
									y: 34,
								},
								{
									x: 90,
									y: 49,
								},
							],
							backgroundColor: "rgba(255, 99, 132, 1)",
							borderWidth: 2.5,
							fill: false,
							pointRadius: 10,
							pointHitRadius: 25,
							showLine: true,
						},
					],
				},
				options: {
					animation:
						new URLSearchParams(window.location.search).get("isTest") !==
						"true",
					layout: {
						padding: {
							left: 20,
							right: 20,
							top: 20,
							bottom: 10,
						},
					},
					scales: {
						y: {
							beginAtZero: true,
						},
					},
					plugins: {
						dragData: {
							round: 1,
							showTooltip: true,
							// IMPORTANT - you also need to specify dragX
							dragX: true,
						},
					},
				},
			};

			var ctx = document.getElementById("chartJSContainer").getContext("2d");
			window.test = new Chart(ctx, options);
		</script>
	</body>
</html>
